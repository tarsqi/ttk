<html>
<head>
<link href="../css/module.css" rel="stylesheet" type="text/css">
<script language="JavaScript" type="text/JavaScript">
<!--
function view_code(id) {
  var newurl = "../functions/" + id + ".html";
  var w = window.open(newurl,"source code","width=770,height=600,
                      scrollbars=yes,resizable=yes");
  w.xopener = window;
}
//-->
</script>
</head>
<body>
<a href=../index.html>index</a>

<div class="title">module components.merging.wrapper</div>

<pre>
<a href=#MergerWrapper>MergerWrapper</a>
</pre>

<pre>
Python wrapper around the merging code.

Calls SputLink's ConstraintPropagator to do all the work. For now does not do
any graph reduction at the end.

TODO:

- Decide what we want to take from the output. We now take all non-disjunctive
  links. We could add the disjunctive links as well. Or we could not take
  inverse relations. Or we could reduce the graph to a minimal graph.

- We now put all links on the queue and order them in a rather simplistic way,
  where we have S2T &lt; Blinker &lt; Classifier, and classifier are ordered use the
  classifier-assigned confidence scores. For the merging routine to be better we
  should let the ranking be informed by hard evaluation data.</pre>


<a name="MergerWrapper"/><div class="section">class MergerWrapper</div>
<pre>

Wraps the merging code, including Sputlink's temporal closure code.</pre>

<blockquote>
<h3>Public Functions</h3>
<pre>
<div class=function>__init__(self, document)</div>
</pre>
<pre>
<div class=function>process(self)</div>
Run the contraint propagator on all TLINKS in the TarsqiDocument and
add resulting links to the TarsqiDocument.</pre>
</blockquote>
<blockquote>
<h3>Private Functions</h3>
<pre>
<div class=function>_add_constraint_to_tarsqidoc(self, edge)</div>
Add the constraint as a TLINK to the TarsqiDocument.</pre>
<pre>
<div class=function>_update_tarsqidoc(self, cp)</div>
Remove existing TLINKs from the TarsqiDocument and add new ones given
the final constraints in the graph used by the constraint propagator.</pre>
</blockquote>

<div class="section">module functions</div>
<pre>
<div class=function>compare_links(link1, link2)</div>
Compare the two links and decide which one of them is more likely to be
correct. Rather primitive for now. We consider S2T links the best, then links
derived by Blinker, then links derived by the classifier. Classifier links
themselves are ordered using their classifier-assigned confidence scores.</pre>
<pre>
<div class=function>tlink_arg1_attr(identifier)</div>
Return the TLINK attribute for the element linked given the identifier.</pre>
<pre>
<div class=function>tlink_arg2_attr(identifier)</div>
Return the TLINK attribute for the element linked given the identifier.</pre>
